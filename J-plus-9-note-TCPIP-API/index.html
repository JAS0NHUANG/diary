<!DOCTYPE html>
<html>
    <!--head-->
    <head>
    <title>JAS0N HUANG</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="DoQOqkvX376V4rp4mmeGYFGrLOB-wrUCMMKlqgrqmuQ" />
    
<link rel="stylesheet" href="/diary/css/style.css">


    <script type="text/javascript">
        let apiUrl = 'https://www.googleapis.com/youtube/v3/channels?part=snippet&id=UC9ckyA_A3MfXUa0ttxMoIZw&key=AIzaSyBiuF1WCpG7TaCY8xtd4cb73Sn-5NTPrb0'
        let xhr = new XMLHttpRequest()
        xhr.open('get', apiUrl, true)
        xhr.send()

        xhr.onreadystatechange = function(){
            if(this.readyState ===4 && this.status === 200){
                let data = JSON.parse(this.responseText)
                console.log(data)
            }
        }
    </script>
<meta name="generator" content="Hexo 4.2.1"></head>

  <body>

    
    <div class="container">
        <div class="blog_header">
    <a href="/diary/">
        <h1 class="blog_title">
        <img src="/diary/images/Jas0nhuang.svg" alt="jas0nhuang">
        <!-- %= config.title %-->
        </h1>
    </a>

    <div class="container">
        <nav class="blog_nav">
            
                <a class="menu_item" href="/diary/archives">文章</a>
            
                <a class="menu_item" href="/diary/tags">標籤</a>
            
                <a class="menu_item" href="/diary/about">關於</a>
            
        </nav>
    </div>
</div>

    </div>
    

    
    <div class="body">
    <div class="main">
<div class="full">
    <h1 class="page_title">[筆記] TCPIP 與 API</h1>
    <h2 id="網路層級與-TCP-IP-模型"><a href="#網路層級與-TCP-IP-模型" class="headerlink" title="網路層級與 TCP/IP 模型"></a>網路層級與 TCP/IP 模型</h2><p>在 HTTP 筆記裡就有這張圖啦：<br><img src="/diary/source/images/Web_Layer" alt="Web Layer">  </p>
<p>OSI 七層，各層級都有自已的協定。<br>TCP/IP 模型為四層：應用層、傳輸層、網路層、鏈結層。<br>HTTP 屬於應用層，TCP 屬於傳送層，IP 屬於網路層。  </p>
<h3 id="IP-位址"><a href="#IP-位址" class="headerlink" title="IP 位址"></a>IP 位址</h3><p>IPv4 與 IPv6<br>有固定 IP 與浮動 IP  </p>
<p>理想情況：世界上的所有電腦都有一個不重覆的固定 IP（顯然不可能……）  </p>
<p>實際狀況：每台內網的電腦都有一個虛擬（私有 private） IP 連到數據機，數據機再以一個對外的固定 IP 對外連線。  </p>
<h3 id="Port-連接埠"><a href="#Port-連接埠" class="headerlink" title="Port 連接埠"></a>Port 連接埠</h3><p>在 IP 位址後面可以接上 Port，目的是區別在同一個主機上的不同服務<br>預設：HTTP 80、HTTPS 443、FTP 21……  </p>
<h3 id="TCP-與-UDP"><a href="#TCP-與-UDP" class="headerlink" title="TCP 與 UDP"></a>TCP 與 UDP</h3><p>兩個都是傳輸層的協定，不同點在於，TCP 是可靠的連接，有所謂的三次握手。<br>UDP 則不必要保證可靠性，視訊通話、網路直播……等以即時性為訴求的服務，通常會建立在這個傳輸協定上。  </p>
<h2 id="什麼是-API"><a href="#什麼是-API" class="headerlink" title="什麼是 API"></a>什麼是 API</h2><p>Application Programming Interface：應用程式介面<br>一種介面, 一個溝通的管道, 資料交換的方法<br>制作 USB 廠商的隨身碟！！！<br>提供「資料」 或接收資料, 提供 API 者可以控制什麼資料可以讓使用者存取。<br>透過「網路」提供的 API 就會被稱做 Web API，而通常 Web API 都是在講 HTTP API（透過 HTTP 協定提供的 API）。<br><a href="https://picsum.photos" target="_blank" rel="noopener">Lorem Picsum</a> 一個有趣的 API。   </p>
<h3 id="API-的功能"><a href="#API-的功能" class="headerlink" title="API 的功能"></a>API 的功能</h3><ul>
<li>對使用者：  </li>
</ul>
<ol>
<li>固定選項  </li>
<li>減少溝通障礙  </li>
</ol>
<ul>
<li>對提供者：  </li>
</ul>
<ol>
<li>減少人力  </li>
<li>不提供沒有的選項，沒有客製化  </li>
</ol>
<h3 id="再用一次-request-串串"><a href="#再用一次-request-串串" class="headerlink" title="再用一次 request 串串"></a>再用一次 request 串串</h3><p>測試用 API：[Req | Res]（<a href="https://reqres.in）" target="_blank" rel="noopener">https://reqres.in）</a><br>GET：  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const request &#x3D; require(&#39;request&#39;)</span><br><span class="line">request(</span><br><span class="line">  &#39;https:&#x2F;&#x2F;reqres.in&#x2F;api&#x2F;users&#39;,</span><br><span class="line">  function(error, response, body) &#123;</span><br><span class="line">    console.log(body)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>node 小技巧：<br>讀取參數  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const process &#x3D; require(&#39;process&#39;)</span><br><span class="line">console.log(process.argv）</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>POST：  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const request &#x3D; require(&#39;request&#39;)</span><br><span class="line">request.post(</span><br><span class="line">  &#123;</span><br><span class="line">    url: &#39;https:&#x2F;&#x2F;reqres.in&#x2F;api&#x2F;users&#39;,</span><br><span class="line">    form: &#123;</span><br><span class="line">      name:&#39;JJ&#39;,</span><br><span class="line">      job:&#39;none&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  function(error, response, body) &#123;</span><br><span class="line">    console.log(body)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="XML-與-JSON"><a href="#XML-與-JSON" class="headerlink" title="XML 與 JSON"></a>XML 與 JSON</h3><p>XML 歷史悠久，通常會用 SOAP 協定傳送。（node 上面可以用 node-soap 套件來傳送）  </p>
<p>現在大部分都用 JSON 這個資料格式了。<br>如果回傳的 JSON 內容被轉換為字串的話，可以用 <code>JSON.parse()</code> 來轉換為 JSON 資料。<br>也可以反轉，將 JSON 資料轉換為字串：<code>JSON.stringify()</code>  </p>
<h3 id="到底什麼是-RESTful"><a href="#到底什麼是-RESTful" class="headerlink" title="到底什麼是 RESTful"></a>到底什麼是 RESTful</h3><p>不是協定、標準，只是一種「風格」<br>查詢用 GET，新增用 POST，刪除用 DELETE，修改用 PATCH。大部分的 API 都是 RESTful 風格了，因為它比較直覺，好懂，也符合 HTTP request 的語意。  </p>
<h2 id="CLI-上好用的工具"><a href="#CLI-上好用的工具" class="headerlink" title="CLI 上好用的工具"></a>CLI 上好用的工具</h2><h3 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h3><p><code>curl 網址</code> 回傳整個頁面的回應<br><code>curl -i 網址</code> 只下載 header</p>
<h3 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h3><p>測試是否能連線到某個伺服器</p>
<h3 id="telnet"><a href="#telnet" class="headerlink" title="telnet"></a>telnet</h3><p><code>telnet {IP} {port}</code> 可以連線到該伺服器的某個 port 上。<br>預設 port 為 23  </p>
<h3 id="nslookup"><a href="#nslookup" class="headerlink" title="nslookup"></a>nslookup</h3><p>查看 DNS 查詢到的 IP</p>

    <hr>
    <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/diary/tags/TCP-IP/" rel="tag">TCP/IP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/diary/tags/%E7%B6%B2%E8%B7%AF%E6%A6%82%E8%AB%96/" rel="tag">網路概論</a></li></ul>
    
    
</div>
</div>


    </div>

    
        <section id="comments">
    <div id="disqus_thread"></div>
        <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'JAS0NHUANG';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
</section>


    
    
    <!--footer-->
    <footer class="blog_footer">
    <p>
        JAS0N HUANG
        <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
            <img src="/images/cc.svg" alt="CC" height="16"></a>
        2020/06
    </p>
    
</footer>

  </body>
</html>
