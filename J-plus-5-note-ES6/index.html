<!DOCTYPE html>
<html>
    <!--head-->
    <head>
    <title>JAS0N HUANG</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="DoQOqkvX376V4rp4mmeGYFGrLOB-wrUCMMKlqgrqmuQ" />
    
<link rel="stylesheet" href="/diary/css/style.css">


    <script type="text/javascript">
        let apiUrl = 'https://www.googleapis.com/youtube/v3/channels?part=snippet&id=UC9ckyA_A3MfXUa0ttxMoIZw&key=AIzaSyBiuF1WCpG7TaCY8xtd4cb73Sn-5NTPrb0'
        let xhr = new XMLHttpRequest()
        xhr.open('get', apiUrl, true)
        xhr.send()

        xhr.onreadystatechange = function(){
            if(this.readyState ===4 && this.status === 200){
                let data = JSON.parse(this.responseText)
                console.log(data)
            }
        }
    </script>
<meta name="generator" content="Hexo 4.2.1"></head>

  <body>

    
    <div class="container">
        <div class="blog_header">
    <a href="/diary/">
        <h1 class="blog_title">
        <img src="/diary/images/Jas0nhuang.svg" alt="jas0nhuang">
        <!-- %= config.title %-->
        </h1>
    </a>

    <div class="container">
        <nav class="blog_nav">
            
                <a class="menu_item" href="/diary/archives">文章</a>
            
                <a class="menu_item" href="/diary/tags">標籤</a>
            
                <a class="menu_item" href="/diary/about">關於</a>
            
        </nav>
    </div>
</div>

    </div>
    

    
    <div class="body">
    <div class="main">
<div class="full">
    <h1 class="page_title">[筆記] ES6</h1>
    <p>就不多講 ES6 是什麼了，下面是 ES6 一些新的語法筆記。</p>
<h2 id="宣告變數"><a href="#宣告變數" class="headerlink" title="宣告變數"></a>宣告變數</h2><p>在 ES6 裡面可以用 const、let、var：</p>
<ul>
<li>const 常數、不希望改變的值</li>
<li>var 與 let 的區別在於 scope（作用域）<ul>
<li>var functional scope</li>
<li>let block scope<br>通常是建議全部改用 const 與 let，不要再用 var 了。</li>
</ul>
</li>
</ul>
<h2 id="字面模版（Template-Literal）"><a href="#字面模版（Template-Literal）" class="headerlink" title="字面模版（Template Literal）"></a>字面模版（Template Literal）</h2><p>本來要寫成 <code>&#39;hello&#39; + name + &#39;！&#39;</code>，現在只要用 <code>`hello ${name} ！`</code> 就可以了。<br>使用重音符號、反引號（backtick）與 <code>${}</code>。</p>
<h2 id="解構（Destructuring）"><a href="#解構（Destructuring）" class="headerlink" title="解構（Destructuring）"></a>解構（Destructuring）</h2><p>ES5 以前要這樣寫：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var arr &#x3D; [1, 2, 3]</span><br><span class="line">var num1 &#x3D; arr[0]</span><br><span class="line">var num2 &#x3D; arr[1]</span><br><span class="line">var num3 &#x3D; arr[2]</span><br></pre></td></tr></table></figure>

<p>ES6 可以這樣寫:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; [1, 2, 3]</span><br><span class="line">let [num1, num2, num3]</span><br></pre></td></tr></table></figure>

<p>物件同理，而且可以用 key 來取值：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const obj &#x3D; &#123;</span><br><span class="line">  name: &#39;kick&#39;,</span><br><span class="line">  age: 38,</span><br><span class="line">  home: &#39;TW&#39;,</span><br><span class="line">&#125;</span><br><span class="line">let &#123;home&#125; &#x3D; obj</span><br><span class="line">console.log(home) &#x2F;&#x2F; &#39;TW&#39;</span><br></pre></td></tr></table></figure>

<p>還可以巢狀解構</p>
<h2 id="展開（Spread-Operator）"><a href="#展開（Spread-Operator）" class="headerlink" title="展開（Spread Operator）"></a>展開（Spread Operator）</h2><p><code>...</code><br>可以把陣列或物件展開，其實就是把它們的中括號（<code>[]</code>）或大括號（<code>{}</code>)拿掉，輸出裡面的內容。<br>以下幾個例子：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; 合併兩個陣列</span><br><span class="line">let arr &#x3D; [1, 2, 3]</span><br><span class="line">let arr2 &#x3D; [4, 5,...arr, 6]</span><br><span class="line">console.log(arr2) &#x2F;&#x2F; [4, 5, 1, 2, 3, 6]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; 將陣列中的值傳入函式</span><br><span class="line">function add(a, b, c) &#123;</span><br><span class="line">  return a + b + c</span><br><span class="line">&#125;</span><br><span class="line">let arr &#x3D; [1, 2, 3]</span><br><span class="line">console.log(add(...arr)) &#x2F;&#x2F; 6</span><br></pre></td></tr></table></figure>
<p>可以應用在複製陣列或物件的內容，而不會對原來的陣列或物件造成影響，因為指向的是不同記憶體位置了。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr1 &#x3D; [1, 2, 3]</span><br><span class="line">let arr2 &#x3D; [...arr1]</span><br><span class="line">arr2.push(4)</span><br><span class="line">console.log(arr1) &#x2F;&#x2F; [1, 2, 3]</span><br><span class="line">console.log(arr2) &#x2F;&#x2F; [1, 2, 3, 4]</span><br></pre></td></tr></table></figure>

<h2 id="反向展開（Rest-Parameters）"><a href="#反向展開（Rest-Parameters）" class="headerlink" title="反向展開（Rest Parameters）"></a>反向展開（Rest Parameters）</h2><p>收合！<br><code>...rest</code> （rest 可以換成其它變數名稱）<br>常常與解構（Destructuring）一起用，例如：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1, 2, 3]</span><br><span class="line">let [first, ...rest] &#x3D; arr</span><br><span class="line">console.log(first) &#x2F;&#x2F; 1</span><br><span class="line">console.log(rest) &#x2F;&#x2F; [2, 3]</span><br></pre></td></tr></table></figure>

<p>但是 <code>...rest</code> 只能放在最後面的位置<br>同樣可以用在物件上：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let obj &#x3D; &#123;</span><br><span class="line">  a: 1,</span><br><span class="line">  b: 2,</span><br><span class="line">  c: 3,</span><br><span class="line">&#125;</span><br><span class="line">let &#123;a, ...obj2&#125; &#x3D; obj</span><br><span class="line">console.log(obj2) &#x2F;&#x2F; &#123;b:2, c:3&#125;</span><br></pre></td></tr></table></figure>
<p>還可以在函式裡傳入參數時應用：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function add(...args) &#123;</span><br><span class="line">  console.log(args)</span><br><span class="line">  return args[0] + args[1]</span><br><span class="line">&#125;</span><br><span class="line">console.log(add(1,2)) &#x2F;&#x2F; [1, 2]  3</span><br></pre></td></tr></table></figure>

<h2 id="設定預設值（Default-Parameter）"><a href="#設定預設值（Default-Parameter）" class="headerlink" title="設定預設值（Default Parameter）"></a>設定預設值（Default Parameter）</h2><p>ES5 設定預設值寫法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function repeat (str, times) &#123;</span><br><span class="line">  str &#x3D; str || &#39;hello&#39;</span><br><span class="line">  times &#x3D; times || 3</span><br><span class="line">  return str.repeat(times)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ES6 寫法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function repeat(str &#x3D; &#39;hello&#39;, times &#x3D; 3) &#123;</span><br><span class="line">  return str.repeat(times)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也可以運用於陣列或物件上。</p>
<h2 id="箭頭函式（arrow-function）"><a href="#箭頭函式（arrow-function）" class="headerlink" title="箭頭函式（arrow function）"></a>箭頭函式（arrow function）</h2><p>是一種語法糖（syntaxe sugar）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function repeat (str, times) &#123;</span><br><span class="line">  return str.repeat(times)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; to</span><br><span class="line">let repeat &#x3D; (str, times) &#x3D;&gt; str.repeat(times)</span><br></pre></td></tr></table></figure>

<p>與陣列方法合用：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1, 2, 3, 4]</span><br><span class="line">console.log(</span><br><span class="line">  arr</span><br><span class="line">  .filter(function(value) &#123;</span><br><span class="line">    return value &gt; 1</span><br><span class="line">  &#125;)</span><br><span class="line">  .map(function(value) &#123;</span><br><span class="line">    return value * 2</span><br><span class="line">  &#125;)</span><br><span class="line">)</span><br><span class="line">&#x2F;&#x2F; 可改寫為：</span><br><span class="line">arr</span><br><span class="line">  .filter(value &#x3D;&gt; value &gt; 1)</span><br><span class="line">  .map(value &#x3D;&gt; value * 2)</span><br></pre></td></tr></table></figure>
<p>about <code>this</code>；箭頭函式的 ‘this’ 有一些特殊性質，需要另外再去研究。</p>
<h2 id="Import-Export"><a href="#Import-Export" class="headerlink" title="Import/Export"></a>Import/Export</h2><ul>
<li><p>Export 有幾種方式：</p>
<ol>
<li><code>export function add(){}</code>；使用 <code>import {add}</code> 引入</li>
<li><code>export { add }</code>；同樣使用 <code>import {add}</code> 引入</li>
<li><code>export default function add()</code>；使用 <code>import add</code> 引入，不需要加大括號<br>如果想要用其他名字，可以用 <code>as</code> 取別名，例如說 <code>export { add as addFunction }</code></li>
</ol>
</li>
</ul>
<p>可以用 <code>import * as utils from &#39;utils&#39;</code> 把全部都 import 進來</p>
<h2 id="Babel"><a href="#Babel" class="headerlink" title="Babel"></a>Babel</h2><p>因為有些 ES6 的語法現在很多地方還不支援（如 import export），所以可以讓 Babel 幫忙翻譯成 ES5 或其它更舊的語法。<br>可以安裝 <code>babel-node</code> 來測試，通常不會用 <code>bable-node</code> 在 production 上，效能不太好。<br><code>npm install --save-dev @babel/core @babel/node</code><br>然後必需先後有前置設定：</p>
<ul>
<li><code>npm install --save @babel/preset-env</code></li>
<li>建立 <code>.babelrc</code>，內容為：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [&quot;@babel&#x2F;preset-env&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
然後就可以執行 <code>npx babel-node 檔案名</code> 來運行了。</li>
</ul>

    <hr>
    <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/diary/tags/ES6/" rel="tag">ES6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/diary/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>
    
    
</div>
</div>


    </div>

    
        <section id="comments">
    <div id="disqus_thread"></div>
        <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'JAS0NHUANG';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
</section>


    
    
    <!--footer-->
    <footer class="blog_footer">
    <p>
        JAS0N HUANG
        <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
            <img src="/images/cc.svg" alt="CC" height="16"></a>
        2020/06
    </p>
    
</footer>

  </body>
</html>
